import {
  __commonJS
} from "./chunk-HM4MQYWN.js";

// node_modules/@editorjs/link/dist/bundle.js
var require_bundle = __commonJS({
  "node_modules/@editorjs/link/dist/bundle.js"(exports, module) {
    !function(t, e) {
      "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.LinkTool = e() : t.LinkTool = e();
    }(window, function() {
      return function(t) {
        var e = {};
        function n(r) {
          if (e[r])
            return e[r].exports;
          var o = e[r] = { i: r, l: false, exports: {} };
          return t[r].call(o.exports, o, o.exports, n), o.l = true, o.exports;
        }
        return n.m = t, n.c = e, n.d = function(t2, e2, r) {
          n.o(t2, e2) || Object.defineProperty(t2, e2, { enumerable: true, get: r });
        }, n.r = function(t2) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t2, "__esModule", { value: true });
        }, n.t = function(t2, e2) {
          if (1 & e2 && (t2 = n(t2)), 8 & e2)
            return t2;
          if (4 & e2 && "object" == typeof t2 && t2 && t2.__esModule)
            return t2;
          var r = /* @__PURE__ */ Object.create(null);
          if (n.r(r), Object.defineProperty(r, "default", { enumerable: true, value: t2 }), 2 & e2 && "string" != typeof t2)
            for (var o in t2)
              n.d(r, o, (function(e3) {
                return t2[e3];
              }).bind(null, o));
          return r;
        }, n.n = function(t2) {
          var e2 = t2 && t2.__esModule ? function() {
            return t2.default;
          } : function() {
            return t2;
          };
          return n.d(e2, "a", e2), e2;
        }, n.o = function(t2, e2) {
          return Object.prototype.hasOwnProperty.call(t2, e2);
        }, n.p = "/", n(n.s = 18);
      }([function(t, e, n) {
        t.exports = n(11);
      }, function(t, e) {
        function n(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r = e2[n2];
            r.enumerable = r.enumerable || false, r.configurable = true, "value" in r && (r.writable = true), Object.defineProperty(t2, r.key, r);
          }
        }
        t.exports = function(t2, e2, r) {
          return e2 && n(t2.prototype, e2), r && n(t2, r), t2;
        };
      }, function(t, e) {
        t.exports = function(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var n = 0, r = new Array(e2); n < e2; n++)
            r[n] = t2[n];
          return r;
        };
      }, function(t, e, n) {
        var r = n(7), o = n(8), i = n(9), a = n(10);
        t.exports = function(t2) {
          return r(t2) || o(t2) || i(t2) || a();
        };
      }, function(t, e) {
        function n(t2, e2, n2, r, o, i, a) {
          try {
            var s = t2[i](a), c = s.value;
          } catch (t3) {
            return void n2(t3);
          }
          s.done ? e2(c) : Promise.resolve(c).then(r, o);
        }
        t.exports = function(t2) {
          return function() {
            var e2 = this, r = arguments;
            return new Promise(function(o, i) {
              var a = t2.apply(e2, r);
              function s(t3) {
                n(a, o, i, s, c, "next", t3);
              }
              function c(t3) {
                n(a, o, i, s, c, "throw", t3);
              }
              s(void 0);
            });
          };
        };
      }, function(t, e) {
        t.exports = function(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        };
      }, function(t, e, n) {
        window, t.exports = function(t2) {
          var e2 = {};
          function n2(r) {
            if (e2[r])
              return e2[r].exports;
            var o = e2[r] = { i: r, l: false, exports: {} };
            return t2[r].call(o.exports, o, o.exports, n2), o.l = true, o.exports;
          }
          return n2.m = t2, n2.c = e2, n2.d = function(t3, e3, r) {
            n2.o(t3, e3) || Object.defineProperty(t3, e3, { enumerable: true, get: r });
          }, n2.r = function(t3) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t3, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t3, "__esModule", { value: true });
          }, n2.t = function(t3, e3) {
            if (1 & e3 && (t3 = n2(t3)), 8 & e3)
              return t3;
            if (4 & e3 && "object" == typeof t3 && t3 && t3.__esModule)
              return t3;
            var r = /* @__PURE__ */ Object.create(null);
            if (n2.r(r), Object.defineProperty(r, "default", { enumerable: true, value: t3 }), 2 & e3 && "string" != typeof t3)
              for (var o in t3)
                n2.d(r, o, (function(e4) {
                  return t3[e4];
                }).bind(null, o));
            return r;
          }, n2.n = function(t3) {
            var e3 = t3 && t3.__esModule ? function() {
              return t3.default;
            } : function() {
              return t3;
            };
            return n2.d(e3, "a", e3), e3;
          }, n2.o = function(t3, e3) {
            return Object.prototype.hasOwnProperty.call(t3, e3);
          }, n2.p = "", n2(n2.s = 3);
        }([function(t2, e2) {
          var n2;
          n2 = function() {
            return this;
          }();
          try {
            n2 = n2 || new Function("return this")();
          } catch (t3) {
            "object" == typeof window && (n2 = window);
          }
          t2.exports = n2;
        }, function(t2, e2, n2) {
          "use strict";
          (function(t3) {
            var r = n2(2), o = setTimeout;
            function i() {
            }
            function a(t4) {
              if (!(this instanceof a))
                throw new TypeError("Promises must be constructed via new");
              if ("function" != typeof t4)
                throw new TypeError("not a function");
              this._state = 0, this._handled = false, this._value = void 0, this._deferreds = [], d(t4, this);
            }
            function s(t4, e3) {
              for (; 3 === t4._state; )
                t4 = t4._value;
              0 !== t4._state ? (t4._handled = true, a._immediateFn(function() {
                var n3 = 1 === t4._state ? e3.onFulfilled : e3.onRejected;
                if (null !== n3) {
                  var r2;
                  try {
                    r2 = n3(t4._value);
                  } catch (t5) {
                    return void u(e3.promise, t5);
                  }
                  c(e3.promise, r2);
                } else
                  (1 === t4._state ? c : u)(e3.promise, t4._value);
              })) : t4._deferreds.push(e3);
            }
            function c(t4, e3) {
              try {
                if (e3 === t4)
                  throw new TypeError("A promise cannot be resolved with itself.");
                if (e3 && ("object" == typeof e3 || "function" == typeof e3)) {
                  var n3 = e3.then;
                  if (e3 instanceof a)
                    return t4._state = 3, t4._value = e3, void l(t4);
                  if ("function" == typeof n3)
                    return void d((r2 = n3, o2 = e3, function() {
                      r2.apply(o2, arguments);
                    }), t4);
                }
                t4._state = 1, t4._value = e3, l(t4);
              } catch (e4) {
                u(t4, e4);
              }
              var r2, o2;
            }
            function u(t4, e3) {
              t4._state = 2, t4._value = e3, l(t4);
            }
            function l(t4) {
              2 === t4._state && 0 === t4._deferreds.length && a._immediateFn(function() {
                t4._handled || a._unhandledRejectionFn(t4._value);
              });
              for (var e3 = 0, n3 = t4._deferreds.length; e3 < n3; e3++)
                s(t4, t4._deferreds[e3]);
              t4._deferreds = null;
            }
            function f(t4, e3, n3) {
              this.onFulfilled = "function" == typeof t4 ? t4 : null, this.onRejected = "function" == typeof e3 ? e3 : null, this.promise = n3;
            }
            function d(t4, e3) {
              var n3 = false;
              try {
                t4(function(t5) {
                  n3 || (n3 = true, c(e3, t5));
                }, function(t5) {
                  n3 || (n3 = true, u(e3, t5));
                });
              } catch (t5) {
                if (n3)
                  return;
                n3 = true, u(e3, t5);
              }
            }
            a.prototype.catch = function(t4) {
              return this.then(null, t4);
            }, a.prototype.then = function(t4, e3) {
              var n3 = new this.constructor(i);
              return s(this, new f(t4, e3, n3)), n3;
            }, a.prototype.finally = r.a, a.all = function(t4) {
              return new a(function(e3, n3) {
                if (!t4 || void 0 === t4.length)
                  throw new TypeError("Promise.all accepts an array");
                var r2 = Array.prototype.slice.call(t4);
                if (0 === r2.length)
                  return e3([]);
                var o2 = r2.length;
                function i2(t5, a3) {
                  try {
                    if (a3 && ("object" == typeof a3 || "function" == typeof a3)) {
                      var s2 = a3.then;
                      if ("function" == typeof s2)
                        return void s2.call(a3, function(e4) {
                          i2(t5, e4);
                        }, n3);
                    }
                    r2[t5] = a3, 0 == --o2 && e3(r2);
                  } catch (t6) {
                    n3(t6);
                  }
                }
                for (var a2 = 0; a2 < r2.length; a2++)
                  i2(a2, r2[a2]);
              });
            }, a.resolve = function(t4) {
              return t4 && "object" == typeof t4 && t4.constructor === a ? t4 : new a(function(e3) {
                e3(t4);
              });
            }, a.reject = function(t4) {
              return new a(function(e3, n3) {
                n3(t4);
              });
            }, a.race = function(t4) {
              return new a(function(e3, n3) {
                for (var r2 = 0, o2 = t4.length; r2 < o2; r2++)
                  t4[r2].then(e3, n3);
              });
            }, a._immediateFn = "function" == typeof t3 && function(e3) {
              t3(e3);
            } || function(t4) {
              o(t4, 0);
            }, a._unhandledRejectionFn = function(t4) {
              "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t4);
            }, e2.a = a;
          }).call(this, n2(5).setImmediate);
        }, function(t2, e2, n2) {
          "use strict";
          e2.a = function(t3) {
            var e3 = this.constructor;
            return this.then(function(n3) {
              return e3.resolve(t3()).then(function() {
                return n3;
              });
            }, function(n3) {
              return e3.resolve(t3()).then(function() {
                return e3.reject(n3);
              });
            });
          };
        }, function(t2, e2, n2) {
          "use strict";
          function r(t3) {
            return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
              return typeof t4;
            } : function(t4) {
              return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
            })(t3);
          }
          n2(4);
          var o, i, a, s, c, u, l = n2(8), f = (i = function(t3) {
            return new Promise(function(e3, n3) {
              t3 = s(t3), t3 = c(t3);
              var r2 = window.XMLHttpRequest ? new window.XMLHttpRequest() : new window.ActiveXObject("Microsoft.XMLHTTP");
              r2.open(t3.method, t3.url), r2.setRequestHeader("X-Requested-With", "XMLHttpRequest"), Object.keys(t3.headers).forEach(function(e4) {
                var n4 = t3.headers[e4];
                r2.setRequestHeader(e4, n4);
              });
              var o2 = t3.ratio;
              r2.upload.addEventListener("progress", function(e4) {
                var n4 = Math.round(e4.loaded / e4.total * 100), r3 = Math.ceil(n4 * o2 / 100);
                t3.progress(r3);
              }, false), r2.addEventListener("progress", function(e4) {
                var n4 = Math.round(e4.loaded / e4.total * 100), r3 = Math.ceil(n4 * (100 - o2) / 100) + o2;
                t3.progress(r3);
              }, false), r2.onreadystatechange = function() {
                if (4 === r2.readyState) {
                  var t4 = r2.response;
                  try {
                    t4 = JSON.parse(t4);
                  } catch (t5) {
                  }
                  var o3 = l.parseHeaders(r2.getAllResponseHeaders()), i2 = { body: t4, code: r2.status, headers: o3 };
                  200 === r2.status ? e3(i2) : n3(i2);
                }
              }, r2.send(t3.data);
            });
          }, a = function(t3) {
            return t3.method = "POST", i(t3);
          }, s = function() {
            var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (t3.url && "string" != typeof t3.url)
              throw new Error("Url must be a string");
            if (t3.url = t3.url || "", t3.method && "string" != typeof t3.method)
              throw new Error("`method` must be a string or null");
            if (t3.method = t3.method ? t3.method.toUpperCase() : "GET", t3.headers && "object" !== r(t3.headers))
              throw new Error("`headers` must be an object or null");
            if (t3.headers = t3.headers || {}, t3.type && ("string" != typeof t3.type || !Object.values(o).includes(t3.type)))
              throw new Error("`type` must be taken from module's «contentType» library");
            if (t3.progress && "function" != typeof t3.progress)
              throw new Error("`progress` must be a function or null");
            if (t3.progress = t3.progress || function(t4) {
            }, t3.beforeSend = t3.beforeSend || function(t4) {
            }, t3.ratio && "number" != typeof t3.ratio)
              throw new Error("`ratio` must be a number");
            if (t3.ratio < 0 || t3.ratio > 100)
              throw new Error("`ratio` must be in a 0-100 interval");
            if (t3.ratio = t3.ratio || 90, t3.accept && "string" != typeof t3.accept)
              throw new Error("`accept` must be a string with a list of allowed mime-types");
            if (t3.accept = t3.accept || "*/*", t3.multiple && "boolean" != typeof t3.multiple)
              throw new Error("`multiple` must be a true or false");
            if (t3.multiple = t3.multiple || false, t3.fieldName && "string" != typeof t3.fieldName)
              throw new Error("`fieldName` must be a string");
            return t3.fieldName = t3.fieldName || "files", t3;
          }, c = function(t3) {
            switch (t3.method) {
              case "GET":
                var e3 = u(t3.data, o.URLENCODED);
                delete t3.data, t3.url = /\?/.test(t3.url) ? t3.url + "&" + e3 : t3.url + "?" + e3;
                break;
              case "POST":
              case "PUT":
              case "DELETE":
              case "UPDATE":
                var n3 = function() {
                  return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).type || o.JSON;
                }(t3);
                (l.isFormData(t3.data) || l.isFormElement(t3.data)) && (n3 = o.FORM), t3.data = u(t3.data, n3), n3 !== f.contentType.FORM && (t3.headers["content-type"] = n3);
            }
            return t3;
          }, u = function() {
            var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            switch (arguments.length > 1 ? arguments[1] : void 0) {
              case o.URLENCODED:
                return l.urlEncode(t3);
              case o.JSON:
                return l.jsonEncode(t3);
              case o.FORM:
                return l.formEncode(t3);
              default:
                return t3;
            }
          }, { contentType: o = { URLENCODED: "application/x-www-form-urlencoded; charset=utf-8", FORM: "multipart/form-data", JSON: "application/json; charset=utf-8" }, request: i, get: function(t3) {
            return t3.method = "GET", i(t3);
          }, post: a, transport: function(t3) {
            return t3 = s(t3), l.selectFiles(t3).then(function(e3) {
              for (var n3 = new FormData(), r2 = 0; r2 < e3.length; r2++)
                n3.append(t3.fieldName, e3[r2], e3[r2].name);
              return l.isObject(t3.data) && Object.keys(t3.data).forEach(function(e4) {
                var r3 = t3.data[e4];
                n3.append(e4, r3);
              }), t3.beforeSend && t3.beforeSend(e3), t3.data = n3, a(t3);
            });
          }, selectFiles: function(t3) {
            return delete (t3 = s(t3)).beforeSend, l.selectFiles(t3);
          } });
          t2.exports = f;
        }, function(t2, e2, n2) {
          "use strict";
          n2.r(e2);
          var r = n2(1);
          window.Promise = window.Promise || r.a;
        }, function(t2, e2, n2) {
          (function(t3) {
            var r = void 0 !== t3 && t3 || "undefined" != typeof self && self || window, o = Function.prototype.apply;
            function i(t4, e3) {
              this._id = t4, this._clearFn = e3;
            }
            e2.setTimeout = function() {
              return new i(o.call(setTimeout, r, arguments), clearTimeout);
            }, e2.setInterval = function() {
              return new i(o.call(setInterval, r, arguments), clearInterval);
            }, e2.clearTimeout = e2.clearInterval = function(t4) {
              t4 && t4.close();
            }, i.prototype.unref = i.prototype.ref = function() {
            }, i.prototype.close = function() {
              this._clearFn.call(r, this._id);
            }, e2.enroll = function(t4, e3) {
              clearTimeout(t4._idleTimeoutId), t4._idleTimeout = e3;
            }, e2.unenroll = function(t4) {
              clearTimeout(t4._idleTimeoutId), t4._idleTimeout = -1;
            }, e2._unrefActive = e2.active = function(t4) {
              clearTimeout(t4._idleTimeoutId);
              var e3 = t4._idleTimeout;
              e3 >= 0 && (t4._idleTimeoutId = setTimeout(function() {
                t4._onTimeout && t4._onTimeout();
              }, e3));
            }, n2(6), e2.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== t3 && t3.setImmediate || this && this.setImmediate, e2.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== t3 && t3.clearImmediate || this && this.clearImmediate;
          }).call(this, n2(0));
        }, function(t2, e2, n2) {
          (function(t3, e3) {
            !function(t4, n3) {
              "use strict";
              if (!t4.setImmediate) {
                var r, o, i, a, s, c = 1, u = {}, l = false, f = t4.document, d = Object.getPrototypeOf && Object.getPrototypeOf(t4);
                d = d && d.setTimeout ? d : t4, "[object process]" === {}.toString.call(t4.process) ? r = function(t5) {
                  e3.nextTick(function() {
                    p(t5);
                  });
                } : function() {
                  if (t4.postMessage && !t4.importScripts) {
                    var e4 = true, n4 = t4.onmessage;
                    return t4.onmessage = function() {
                      e4 = false;
                    }, t4.postMessage("", "*"), t4.onmessage = n4, e4;
                  }
                }() ? (a = "setImmediate$" + Math.random() + "$", s = function(e4) {
                  e4.source === t4 && "string" == typeof e4.data && 0 === e4.data.indexOf(a) && p(+e4.data.slice(a.length));
                }, t4.addEventListener ? t4.addEventListener("message", s, false) : t4.attachEvent("onmessage", s), r = function(e4) {
                  t4.postMessage(a + e4, "*");
                }) : t4.MessageChannel ? ((i = new MessageChannel()).port1.onmessage = function(t5) {
                  p(t5.data);
                }, r = function(t5) {
                  i.port2.postMessage(t5);
                }) : f && "onreadystatechange" in f.createElement("script") ? (o = f.documentElement, r = function(t5) {
                  var e4 = f.createElement("script");
                  e4.onreadystatechange = function() {
                    p(t5), e4.onreadystatechange = null, o.removeChild(e4), e4 = null;
                  }, o.appendChild(e4);
                }) : r = function(t5) {
                  setTimeout(p, 0, t5);
                }, d.setImmediate = function(t5) {
                  "function" != typeof t5 && (t5 = new Function("" + t5));
                  for (var e4 = new Array(arguments.length - 1), n4 = 0; n4 < e4.length; n4++)
                    e4[n4] = arguments[n4 + 1];
                  var o2 = { callback: t5, args: e4 };
                  return u[c] = o2, r(c), c++;
                }, d.clearImmediate = h;
              }
              function h(t5) {
                delete u[t5];
              }
              function p(t5) {
                if (l)
                  setTimeout(p, 0, t5);
                else {
                  var e4 = u[t5];
                  if (e4) {
                    l = true;
                    try {
                      !function(t6) {
                        var e5 = t6.callback, n4 = t6.args;
                        switch (n4.length) {
                          case 0:
                            e5();
                            break;
                          case 1:
                            e5(n4[0]);
                            break;
                          case 2:
                            e5(n4[0], n4[1]);
                            break;
                          case 3:
                            e5(n4[0], n4[1], n4[2]);
                            break;
                          default:
                            e5.apply(void 0, n4);
                        }
                      }(e4);
                    } finally {
                      h(t5), l = false;
                    }
                  }
                }
              }
            }("undefined" == typeof self ? void 0 === t3 ? this : t3 : self);
          }).call(this, n2(0), n2(7));
        }, function(t2, e2) {
          var n2, r, o = t2.exports = {};
          function i() {
            throw new Error("setTimeout has not been defined");
          }
          function a() {
            throw new Error("clearTimeout has not been defined");
          }
          function s(t3) {
            if (n2 === setTimeout)
              return setTimeout(t3, 0);
            if ((n2 === i || !n2) && setTimeout)
              return n2 = setTimeout, setTimeout(t3, 0);
            try {
              return n2(t3, 0);
            } catch (e3) {
              try {
                return n2.call(null, t3, 0);
              } catch (e4) {
                return n2.call(this, t3, 0);
              }
            }
          }
          !function() {
            try {
              n2 = "function" == typeof setTimeout ? setTimeout : i;
            } catch (t3) {
              n2 = i;
            }
            try {
              r = "function" == typeof clearTimeout ? clearTimeout : a;
            } catch (t3) {
              r = a;
            }
          }();
          var c, u = [], l = false, f = -1;
          function d() {
            l && c && (l = false, c.length ? u = c.concat(u) : f = -1, u.length && h());
          }
          function h() {
            if (!l) {
              var t3 = s(d);
              l = true;
              for (var e3 = u.length; e3; ) {
                for (c = u, u = []; ++f < e3; )
                  c && c[f].run();
                f = -1, e3 = u.length;
              }
              c = null, l = false, function(t4) {
                if (r === clearTimeout)
                  return clearTimeout(t4);
                if ((r === a || !r) && clearTimeout)
                  return r = clearTimeout, clearTimeout(t4);
                try {
                  r(t4);
                } catch (e4) {
                  try {
                    return r.call(null, t4);
                  } catch (e5) {
                    return r.call(this, t4);
                  }
                }
              }(t3);
            }
          }
          function p(t3, e3) {
            this.fun = t3, this.array = e3;
          }
          function m() {
          }
          o.nextTick = function(t3) {
            var e3 = new Array(arguments.length - 1);
            if (arguments.length > 1)
              for (var n3 = 1; n3 < arguments.length; n3++)
                e3[n3 - 1] = arguments[n3];
            u.push(new p(t3, e3)), 1 !== u.length || l || s(h);
          }, p.prototype.run = function() {
            this.fun.apply(null, this.array);
          }, o.title = "browser", o.browser = true, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = m, o.addListener = m, o.once = m, o.off = m, o.removeListener = m, o.removeAllListeners = m, o.emit = m, o.prependListener = m, o.prependOnceListener = m, o.listeners = function(t3) {
            return [];
          }, o.binding = function(t3) {
            throw new Error("process.binding is not supported");
          }, o.cwd = function() {
            return "/";
          }, o.chdir = function(t3) {
            throw new Error("process.chdir is not supported");
          }, o.umask = function() {
            return 0;
          };
        }, function(t2, e2, n2) {
          function r(t3, e3) {
            for (var n3 = 0; n3 < e3.length; n3++) {
              var r2 = e3[n3];
              r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(t3, r2.key, r2);
            }
          }
          var o = n2(9);
          t2.exports = function() {
            function t3() {
              !function(t4, e4) {
                if (!(t4 instanceof e4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, t3);
            }
            var e3, n3;
            return e3 = t3, (n3 = [{ key: "urlEncode", value: function(t4) {
              return o(t4);
            } }, { key: "jsonEncode", value: function(t4) {
              return JSON.stringify(t4);
            } }, { key: "formEncode", value: function(t4) {
              if (this.isFormData(t4))
                return t4;
              if (this.isFormElement(t4))
                return new FormData(t4);
              if (this.isObject(t4)) {
                var e4 = new FormData();
                return Object.keys(t4).forEach(function(n4) {
                  var r2 = t4[n4];
                  e4.append(n4, r2);
                }), e4;
              }
              throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement");
            } }, { key: "isObject", value: function(t4) {
              return "[object Object]" === Object.prototype.toString.call(t4);
            } }, { key: "isFormData", value: function(t4) {
              return t4 instanceof FormData;
            } }, { key: "isFormElement", value: function(t4) {
              return t4 instanceof HTMLFormElement;
            } }, { key: "selectFiles", value: function() {
              var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
              return new Promise(function(e4, n4) {
                var r2 = document.createElement("INPUT");
                r2.type = "file", t4.multiple && r2.setAttribute("multiple", "multiple"), t4.accept && r2.setAttribute("accept", t4.accept), r2.style.display = "none", document.body.appendChild(r2), r2.addEventListener("change", function(t5) {
                  var n5 = t5.target.files;
                  e4(n5), document.body.removeChild(r2);
                }, false), r2.click();
              });
            } }, { key: "parseHeaders", value: function(t4) {
              var e4 = t4.trim().split(/[\r\n]+/), n4 = {};
              return e4.forEach(function(t5) {
                var e5 = t5.split(": "), r2 = e5.shift(), o2 = e5.join(": ");
                r2 && (n4[r2] = o2);
              }), n4;
            } }]) && r(e3, n3), t3;
          }();
        }, function(t2, e2) {
          var n2 = function(t3) {
            return encodeURIComponent(t3).replace(/[!'()*]/g, escape).replace(/%20/g, "+");
          }, r = function(t3, e3, o, i) {
            return e3 = e3 || null, o = o || "&", i = i || null, t3 ? function(t4) {
              for (var e4 = new Array(), n3 = 0; n3 < t4.length; n3++)
                t4[n3] && e4.push(t4[n3]);
              return e4;
            }(Object.keys(t3).map(function(a) {
              var s, c, u = a;
              if (i && (u = i + "[" + u + "]"), "object" == typeof t3[a] && null !== t3[a])
                s = r(t3[a], null, o, u);
              else {
                e3 && (c = u, u = !isNaN(parseFloat(c)) && isFinite(c) ? e3 + Number(u) : u);
                var l = t3[a];
                l = (l = 0 === (l = false === (l = true === l ? "1" : l) ? "0" : l) ? "0" : l) || "", s = n2(u) + "=" + n2(l);
              }
              return s;
            })).join(o).replace(/[!'()*]/g, "") : "";
          };
          t2.exports = r;
        }]);
      }, function(t, e, n) {
        var r = n(2);
        t.exports = function(t2) {
          if (Array.isArray(t2))
            return r(t2);
        };
      }, function(t, e) {
        t.exports = function(t2) {
          if ("undefined" != typeof Symbol && Symbol.iterator in Object(t2))
            return Array.from(t2);
        };
      }, function(t, e, n) {
        var r = n(2);
        t.exports = function(t2, e2) {
          if (t2) {
            if ("string" == typeof t2)
              return r(t2, e2);
            var n2 = Object.prototype.toString.call(t2).slice(8, -1);
            return "Object" === n2 && t2.constructor && (n2 = t2.constructor.name), "Map" === n2 || "Set" === n2 ? Array.from(t2) : "Arguments" === n2 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2) ? r(t2, e2) : void 0;
          }
        };
      }, function(t, e) {
        t.exports = function() {
          throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        };
      }, function(t, e, n) {
        var r = function(t2) {
          "use strict";
          var e2 = Object.prototype, n2 = e2.hasOwnProperty, r2 = "function" == typeof Symbol ? Symbol : {}, o = r2.iterator || "@@iterator", i = r2.asyncIterator || "@@asyncIterator", a = r2.toStringTag || "@@toStringTag";
          function s(t3, e3, n3, r3) {
            var o2 = e3 && e3.prototype instanceof l ? e3 : l, i2 = Object.create(o2.prototype), a2 = new _(r3 || []);
            return i2._invoke = function(t4, e4, n4) {
              var r4 = "suspendedStart";
              return function(o3, i3) {
                if ("executing" === r4)
                  throw new Error("Generator is already running");
                if ("completed" === r4) {
                  if ("throw" === o3)
                    throw i3;
                  return x();
                }
                for (n4.method = o3, n4.arg = i3; ; ) {
                  var a3 = n4.delegate;
                  if (a3) {
                    var s2 = b(a3, n4);
                    if (s2) {
                      if (s2 === u)
                        continue;
                      return s2;
                    }
                  }
                  if ("next" === n4.method)
                    n4.sent = n4._sent = n4.arg;
                  else if ("throw" === n4.method) {
                    if ("suspendedStart" === r4)
                      throw r4 = "completed", n4.arg;
                    n4.dispatchException(n4.arg);
                  } else
                    "return" === n4.method && n4.abrupt("return", n4.arg);
                  r4 = "executing";
                  var l2 = c(t4, e4, n4);
                  if ("normal" === l2.type) {
                    if (r4 = n4.done ? "completed" : "suspendedYield", l2.arg === u)
                      continue;
                    return { value: l2.arg, done: n4.done };
                  }
                  "throw" === l2.type && (r4 = "completed", n4.method = "throw", n4.arg = l2.arg);
                }
              };
            }(t3, n3, a2), i2;
          }
          function c(t3, e3, n3) {
            try {
              return { type: "normal", arg: t3.call(e3, n3) };
            } catch (t4) {
              return { type: "throw", arg: t4 };
            }
          }
          t2.wrap = s;
          var u = {};
          function l() {
          }
          function f() {
          }
          function d() {
          }
          var h = {};
          h[o] = function() {
            return this;
          };
          var p = Object.getPrototypeOf, m = p && p(p(E([])));
          m && m !== e2 && n2.call(m, o) && (h = m);
          var v = d.prototype = l.prototype = Object.create(h);
          function y(t3) {
            ["next", "throw", "return"].forEach(function(e3) {
              t3[e3] = function(t4) {
                return this._invoke(e3, t4);
              };
            });
          }
          function g(t3, e3) {
            var r3;
            this._invoke = function(o2, i2) {
              function a2() {
                return new e3(function(r4, a3) {
                  !function r5(o3, i3, a4, s2) {
                    var u2 = c(t3[o3], t3, i3);
                    if ("throw" !== u2.type) {
                      var l2 = u2.arg, f2 = l2.value;
                      return f2 && "object" == typeof f2 && n2.call(f2, "__await") ? e3.resolve(f2.__await).then(function(t4) {
                        r5("next", t4, a4, s2);
                      }, function(t4) {
                        r5("throw", t4, a4, s2);
                      }) : e3.resolve(f2).then(function(t4) {
                        l2.value = t4, a4(l2);
                      }, function(t4) {
                        return r5("throw", t4, a4, s2);
                      });
                    }
                    s2(u2.arg);
                  }(o2, i2, r4, a3);
                });
              }
              return r3 = r3 ? r3.then(a2, a2) : a2();
            };
          }
          function b(t3, e3) {
            var n3 = t3.iterator[e3.method];
            if (void 0 === n3) {
              if (e3.delegate = null, "throw" === e3.method) {
                if (t3.iterator.return && (e3.method = "return", e3.arg = void 0, b(t3, e3), "throw" === e3.method))
                  return u;
                e3.method = "throw", e3.arg = new TypeError("The iterator does not provide a 'throw' method");
              }
              return u;
            }
            var r3 = c(n3, t3.iterator, e3.arg);
            if ("throw" === r3.type)
              return e3.method = "throw", e3.arg = r3.arg, e3.delegate = null, u;
            var o2 = r3.arg;
            return o2 ? o2.done ? (e3[t3.resultName] = o2.value, e3.next = t3.nextLoc, "return" !== e3.method && (e3.method = "next", e3.arg = void 0), e3.delegate = null, u) : o2 : (e3.method = "throw", e3.arg = new TypeError("iterator result is not an object"), e3.delegate = null, u);
          }
          function w(t3) {
            var e3 = { tryLoc: t3[0] };
            1 in t3 && (e3.catchLoc = t3[1]), 2 in t3 && (e3.finallyLoc = t3[2], e3.afterLoc = t3[3]), this.tryEntries.push(e3);
          }
          function k(t3) {
            var e3 = t3.completion || {};
            e3.type = "normal", delete e3.arg, t3.completion = e3;
          }
          function _(t3) {
            this.tryEntries = [{ tryLoc: "root" }], t3.forEach(w, this), this.reset(true);
          }
          function E(t3) {
            if (t3) {
              var e3 = t3[o];
              if (e3)
                return e3.call(t3);
              if ("function" == typeof t3.next)
                return t3;
              if (!isNaN(t3.length)) {
                var r3 = -1, i2 = function e4() {
                  for (; ++r3 < t3.length; )
                    if (n2.call(t3, r3))
                      return e4.value = t3[r3], e4.done = false, e4;
                  return e4.value = void 0, e4.done = true, e4;
                };
                return i2.next = i2;
              }
            }
            return { next: x };
          }
          function x() {
            return { value: void 0, done: true };
          }
          return f.prototype = v.constructor = d, d.constructor = f, d[a] = f.displayName = "GeneratorFunction", t2.isGeneratorFunction = function(t3) {
            var e3 = "function" == typeof t3 && t3.constructor;
            return !!e3 && (e3 === f || "GeneratorFunction" === (e3.displayName || e3.name));
          }, t2.mark = function(t3) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t3, d) : (t3.__proto__ = d, a in t3 || (t3[a] = "GeneratorFunction")), t3.prototype = Object.create(v), t3;
          }, t2.awrap = function(t3) {
            return { __await: t3 };
          }, y(g.prototype), g.prototype[i] = function() {
            return this;
          }, t2.AsyncIterator = g, t2.async = function(e3, n3, r3, o2, i2) {
            void 0 === i2 && (i2 = Promise);
            var a2 = new g(s(e3, n3, r3, o2), i2);
            return t2.isGeneratorFunction(n3) ? a2 : a2.next().then(function(t3) {
              return t3.done ? t3.value : a2.next();
            });
          }, y(v), v[a] = "Generator", v[o] = function() {
            return this;
          }, v.toString = function() {
            return "[object Generator]";
          }, t2.keys = function(t3) {
            var e3 = [];
            for (var n3 in t3)
              e3.push(n3);
            return e3.reverse(), function n4() {
              for (; e3.length; ) {
                var r3 = e3.pop();
                if (r3 in t3)
                  return n4.value = r3, n4.done = false, n4;
              }
              return n4.done = true, n4;
            };
          }, t2.values = E, _.prototype = { constructor: _, reset: function(t3) {
            if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(k), !t3)
              for (var e3 in this)
                "t" === e3.charAt(0) && n2.call(this, e3) && !isNaN(+e3.slice(1)) && (this[e3] = void 0);
          }, stop: function() {
            this.done = true;
            var t3 = this.tryEntries[0].completion;
            if ("throw" === t3.type)
              throw t3.arg;
            return this.rval;
          }, dispatchException: function(t3) {
            if (this.done)
              throw t3;
            var e3 = this;
            function r3(n3, r4) {
              return a2.type = "throw", a2.arg = t3, e3.next = n3, r4 && (e3.method = "next", e3.arg = void 0), !!r4;
            }
            for (var o2 = this.tryEntries.length - 1; o2 >= 0; --o2) {
              var i2 = this.tryEntries[o2], a2 = i2.completion;
              if ("root" === i2.tryLoc)
                return r3("end");
              if (i2.tryLoc <= this.prev) {
                var s2 = n2.call(i2, "catchLoc"), c2 = n2.call(i2, "finallyLoc");
                if (s2 && c2) {
                  if (this.prev < i2.catchLoc)
                    return r3(i2.catchLoc, true);
                  if (this.prev < i2.finallyLoc)
                    return r3(i2.finallyLoc);
                } else if (s2) {
                  if (this.prev < i2.catchLoc)
                    return r3(i2.catchLoc, true);
                } else {
                  if (!c2)
                    throw new Error("try statement without catch or finally");
                  if (this.prev < i2.finallyLoc)
                    return r3(i2.finallyLoc);
                }
              }
            }
          }, abrupt: function(t3, e3) {
            for (var r3 = this.tryEntries.length - 1; r3 >= 0; --r3) {
              var o2 = this.tryEntries[r3];
              if (o2.tryLoc <= this.prev && n2.call(o2, "finallyLoc") && this.prev < o2.finallyLoc) {
                var i2 = o2;
                break;
              }
            }
            i2 && ("break" === t3 || "continue" === t3) && i2.tryLoc <= e3 && e3 <= i2.finallyLoc && (i2 = null);
            var a2 = i2 ? i2.completion : {};
            return a2.type = t3, a2.arg = e3, i2 ? (this.method = "next", this.next = i2.finallyLoc, u) : this.complete(a2);
          }, complete: function(t3, e3) {
            if ("throw" === t3.type)
              throw t3.arg;
            return "break" === t3.type || "continue" === t3.type ? this.next = t3.arg : "return" === t3.type ? (this.rval = this.arg = t3.arg, this.method = "return", this.next = "end") : "normal" === t3.type && e3 && (this.next = e3), u;
          }, finish: function(t3) {
            for (var e3 = this.tryEntries.length - 1; e3 >= 0; --e3) {
              var n3 = this.tryEntries[e3];
              if (n3.finallyLoc === t3)
                return this.complete(n3.completion, n3.afterLoc), k(n3), u;
            }
          }, catch: function(t3) {
            for (var e3 = this.tryEntries.length - 1; e3 >= 0; --e3) {
              var n3 = this.tryEntries[e3];
              if (n3.tryLoc === t3) {
                var r3 = n3.completion;
                if ("throw" === r3.type) {
                  var o2 = r3.arg;
                  k(n3);
                }
                return o2;
              }
            }
            throw new Error("illegal catch attempt");
          }, delegateYield: function(t3, e3, n3) {
            return this.delegate = { iterator: E(t3), resultName: e3, nextLoc: n3 }, "next" === this.method && (this.arg = void 0), u;
          } }, t2;
        }(t.exports);
        try {
          regeneratorRuntime = r;
        } catch (t2) {
          Function("r", "regeneratorRuntime = r")(r);
        }
      }, function(t, e, n) {
        var r = n(13), o = n(14);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t.i, o, ""]]);
        var i = { insert: "head", singleton: false };
        r(o, i);
        t.exports = o.locals || {};
      }, function(t, e, n) {
        "use strict";
        var r, o = function() {
          return void 0 === r && (r = Boolean(window && document && document.all && !window.atob)), r;
        }, i = function() {
          var t2 = {};
          return function(e2) {
            if (void 0 === t2[e2]) {
              var n2 = document.querySelector(e2);
              if (window.HTMLIFrameElement && n2 instanceof window.HTMLIFrameElement)
                try {
                  n2 = n2.contentDocument.head;
                } catch (t3) {
                  n2 = null;
                }
              t2[e2] = n2;
            }
            return t2[e2];
          };
        }(), a = [];
        function s(t2) {
          for (var e2 = -1, n2 = 0; n2 < a.length; n2++)
            if (a[n2].identifier === t2) {
              e2 = n2;
              break;
            }
          return e2;
        }
        function c(t2, e2) {
          for (var n2 = {}, r2 = [], o2 = 0; o2 < t2.length; o2++) {
            var i2 = t2[o2], c2 = e2.base ? i2[0] + e2.base : i2[0], u2 = n2[c2] || 0, l2 = "".concat(c2, " ").concat(u2);
            n2[c2] = u2 + 1;
            var f2 = s(l2), d2 = { css: i2[1], media: i2[2], sourceMap: i2[3] };
            -1 !== f2 ? (a[f2].references++, a[f2].updater(d2)) : a.push({ identifier: l2, updater: v(d2, e2), references: 1 }), r2.push(l2);
          }
          return r2;
        }
        function u(t2) {
          var e2 = document.createElement("style"), r2 = t2.attributes || {};
          if (void 0 === r2.nonce) {
            var o2 = n.nc;
            o2 && (r2.nonce = o2);
          }
          if (Object.keys(r2).forEach(function(t3) {
            e2.setAttribute(t3, r2[t3]);
          }), "function" == typeof t2.insert)
            t2.insert(e2);
          else {
            var a2 = i(t2.insert || "head");
            if (!a2)
              throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
            a2.appendChild(e2);
          }
          return e2;
        }
        var l, f = (l = [], function(t2, e2) {
          return l[t2] = e2, l.filter(Boolean).join("\n");
        });
        function d(t2, e2, n2, r2) {
          var o2 = n2 ? "" : r2.media ? "@media ".concat(r2.media, " {").concat(r2.css, "}") : r2.css;
          if (t2.styleSheet)
            t2.styleSheet.cssText = f(e2, o2);
          else {
            var i2 = document.createTextNode(o2), a2 = t2.childNodes;
            a2[e2] && t2.removeChild(a2[e2]), a2.length ? t2.insertBefore(i2, a2[e2]) : t2.appendChild(i2);
          }
        }
        function h(t2, e2, n2) {
          var r2 = n2.css, o2 = n2.media, i2 = n2.sourceMap;
          if (o2 ? t2.setAttribute("media", o2) : t2.removeAttribute("media"), i2 && btoa && (r2 += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i2)))), " */")), t2.styleSheet)
            t2.styleSheet.cssText = r2;
          else {
            for (; t2.firstChild; )
              t2.removeChild(t2.firstChild);
            t2.appendChild(document.createTextNode(r2));
          }
        }
        var p = null, m = 0;
        function v(t2, e2) {
          var n2, r2, o2;
          if (e2.singleton) {
            var i2 = m++;
            n2 = p || (p = u(e2)), r2 = d.bind(null, n2, i2, false), o2 = d.bind(null, n2, i2, true);
          } else
            n2 = u(e2), r2 = h.bind(null, n2, e2), o2 = function() {
              !function(t3) {
                if (null === t3.parentNode)
                  return false;
                t3.parentNode.removeChild(t3);
              }(n2);
            };
          return r2(t2), function(e3) {
            if (e3) {
              if (e3.css === t2.css && e3.media === t2.media && e3.sourceMap === t2.sourceMap)
                return;
              r2(t2 = e3);
            } else
              o2();
          };
        }
        t.exports = function(t2, e2) {
          (e2 = e2 || {}).singleton || "boolean" == typeof e2.singleton || (e2.singleton = o());
          var n2 = c(t2 = t2 || [], e2);
          return function(t3) {
            if (t3 = t3 || [], "[object Array]" === Object.prototype.toString.call(t3)) {
              for (var r2 = 0; r2 < n2.length; r2++) {
                var o2 = s(n2[r2]);
                a[o2].references--;
              }
              for (var i2 = c(t3, e2), u2 = 0; u2 < n2.length; u2++) {
                var l2 = s(n2[u2]);
                0 === a[l2].references && (a[l2].updater(), a.splice(l2, 1));
              }
              n2 = i2;
            }
          };
        };
      }, function(t, e, n) {
        (e = n(15)(false)).push([t.i, `.link-tool {
  position: relative;
}

  .link-tool__input {
    padding-left: 38px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 10px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .link-tool__input-holder {
      position: relative;
    }

  .link-tool__input-holder--error .link-tool__input {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
          background-color: #fff3f6;
          border-color: #f3e0e0;
          color: #a95a5a;
          box-shadow: inset 0 1px 3px 0 rgba(146, 62, 62, .05);
        }

  .link-tool__input[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }

  .link-tool__input[contentEditable=true][data-placeholder]:empty::before {
        opacity: 1;
      }

  .link-tool__input[contentEditable=true][data-placeholder]:empty:focus::before {
         opacity: 0;
       }

  .link-tool__progress {
    position: absolute;
    box-shadow: inset 0 1px 3px 0 rgba(102, 85, 107, 0.04);
    height: 100%;
    width: 0;
    background-color: #f4f5f7;
    z-index: -1;
  }

  .link-tool__progress--loading {
      -webkit-animation: progress 500ms ease-in;
      -webkit-animation-fill-mode: forwards;
    }

  .link-tool__progress--loaded {
      width: 100%;
    }

  .link-tool__content {
    display: block;
    padding: 25px;
    border-radius: 2px;
    box-shadow: 0 0 0 2px #fff;
    color: initial !important;
    text-decoration: none !important;
  }

  .link-tool__content::after {
      content: "";
      clear: both;
      display: table;
    }

  .link-tool__content--rendered {
      background: #fff;
      border: 1px solid rgba(201, 201, 204, 0.48);
      box-shadow: 0 1px 3px rgba(0,0,0, .1);
      border-radius: 6px;
      will-change: filter;
      animation: link-in 450ms 1 cubic-bezier(0.215, 0.61, 0.355, 1);
    }

  .link-tool__content--rendered:hover {
        box-shadow: 0 0 3px rgba(0,0,0, .16);
      }

  .link-tool__image {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    margin: 0 0 0 30px;
    width: 65px;
    height: 65px;
    border-radius: 3px;
    float: right;
  }

  .link-tool__title {
    font-size: 17px;
    font-weight: 600;
    line-height: 1.5em;
    margin: 0 0 10px 0;
  }

  .link-tool__title + .link-tool__anchor {
      margin-top: 25px;
    }

  .link-tool__description {
    margin: 0 0 20px 0;
    font-size: 15px;
    line-height: 1.55em;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .link-tool__anchor {
    display: block;
    font-size: 15px;
    line-height: 1em;
    color: #888 !important;
    border: 0 !important;
    padding: 0 !important;
  }

@keyframes link-in {
  from {
    filter: blur(5px);
  }

  to {
    filter: none;
  }
}

.codex-editor--narrow .link-tool__image {
  display: none;
}

@-webkit-keyframes progress {
  0% {
    width: 0;
  }
  100% {
    width: 85%;
  }
}
`, ""]), t.exports = e;
      }, function(t, e, n) {
        "use strict";
        t.exports = function(t2) {
          var e2 = [];
          return e2.toString = function() {
            return this.map(function(e3) {
              var n2 = function(t3, e4) {
                var n3 = t3[1] || "", r = t3[3];
                if (!r)
                  return n3;
                if (e4 && "function" == typeof btoa) {
                  var o = (a = r, s = btoa(unescape(encodeURIComponent(JSON.stringify(a)))), c = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s), "/*# ".concat(c, " */")), i = r.sources.map(function(t4) {
                    return "/*# sourceURL=".concat(r.sourceRoot || "").concat(t4, " */");
                  });
                  return [n3].concat(i).concat([o]).join("\n");
                }
                var a, s, c;
                return [n3].join("\n");
              }(e3, t2);
              return e3[2] ? "@media ".concat(e3[2], " {").concat(n2, "}") : n2;
            }).join("");
          }, e2.i = function(t3, n2, r) {
            "string" == typeof t3 && (t3 = [[null, t3, ""]]);
            var o = {};
            if (r)
              for (var i = 0; i < this.length; i++) {
                var a = this[i][0];
                null != a && (o[a] = true);
              }
            for (var s = 0; s < t3.length; s++) {
              var c = [].concat(t3[s]);
              r && o[c[0]] || (n2 && (c[2] ? c[2] = "".concat(n2, " and ").concat(c[2]) : c[2] = n2), e2.push(c));
            }
          }, e2;
        };
      }, function(t, e, n) {
        (function(t2) {
          !function(t3) {
            var e2 = function() {
              try {
                return !!Symbol.iterator;
              } catch (t4) {
                return false;
              }
            }(), n2 = function(t4) {
              var n3 = { next: function() {
                var e3 = t4.shift();
                return { done: void 0 === e3, value: e3 };
              } };
              return e2 && (n3[Symbol.iterator] = function() {
                return n3;
              }), n3;
            }, r = function(t4) {
              return encodeURIComponent(t4).replace(/%20/g, "+");
            }, o = function(t4) {
              return decodeURIComponent(String(t4).replace(/\+/g, " "));
            };
            (function() {
              try {
                var e3 = t3.URLSearchParams;
                return "a=1" === new e3("?a=1").toString() && "function" == typeof e3.prototype.set;
              } catch (t4) {
                return false;
              }
            })() || function() {
              var o2 = function(t4) {
                Object.defineProperty(this, "_entries", { writable: true, value: {} });
                var e3 = typeof t4;
                if ("undefined" === e3)
                  ;
                else if ("string" === e3)
                  "" !== t4 && this._fromString(t4);
                else if (t4 instanceof o2) {
                  var n3 = this;
                  t4.forEach(function(t5, e4) {
                    n3.append(e4, t5);
                  });
                } else {
                  if (null === t4 || "object" !== e3)
                    throw new TypeError("Unsupported input's type for URLSearchParams");
                  if ("[object Array]" === Object.prototype.toString.call(t4))
                    for (var r2 = 0; r2 < t4.length; r2++) {
                      var i3 = t4[r2];
                      if ("[object Array]" !== Object.prototype.toString.call(i3) && 2 === i3.length)
                        throw new TypeError("Expected [string, any] as entry at index " + r2 + " of URLSearchParams's input");
                      this.append(i3[0], i3[1]);
                    }
                  else
                    for (var a in t4)
                      t4.hasOwnProperty(a) && this.append(a, t4[a]);
                }
              }, i2 = o2.prototype;
              i2.append = function(t4, e3) {
                t4 in this._entries ? this._entries[t4].push(String(e3)) : this._entries[t4] = [String(e3)];
              }, i2.delete = function(t4) {
                delete this._entries[t4];
              }, i2.get = function(t4) {
                return t4 in this._entries ? this._entries[t4][0] : null;
              }, i2.getAll = function(t4) {
                return t4 in this._entries ? this._entries[t4].slice(0) : [];
              }, i2.has = function(t4) {
                return t4 in this._entries;
              }, i2.set = function(t4, e3) {
                this._entries[t4] = [String(e3)];
              }, i2.forEach = function(t4, e3) {
                var n3;
                for (var r2 in this._entries)
                  if (this._entries.hasOwnProperty(r2)) {
                    n3 = this._entries[r2];
                    for (var o3 = 0; o3 < n3.length; o3++)
                      t4.call(e3, n3[o3], r2, this);
                  }
              }, i2.keys = function() {
                var t4 = [];
                return this.forEach(function(e3, n3) {
                  t4.push(n3);
                }), n2(t4);
              }, i2.values = function() {
                var t4 = [];
                return this.forEach(function(e3) {
                  t4.push(e3);
                }), n2(t4);
              }, i2.entries = function() {
                var t4 = [];
                return this.forEach(function(e3, n3) {
                  t4.push([n3, e3]);
                }), n2(t4);
              }, e2 && (i2[Symbol.iterator] = i2.entries), i2.toString = function() {
                var t4 = [];
                return this.forEach(function(e3, n3) {
                  t4.push(r(n3) + "=" + r(e3));
                }), t4.join("&");
              }, t3.URLSearchParams = o2;
            }();
            var i = t3.URLSearchParams.prototype;
            "function" != typeof i.sort && (i.sort = function() {
              var t4 = this, e3 = [];
              this.forEach(function(n4, r2) {
                e3.push([r2, n4]), t4._entries || t4.delete(r2);
              }), e3.sort(function(t5, e4) {
                return t5[0] < e4[0] ? -1 : t5[0] > e4[0] ? 1 : 0;
              }), t4._entries && (t4._entries = {});
              for (var n3 = 0; n3 < e3.length; n3++)
                this.append(e3[n3][0], e3[n3][1]);
            }), "function" != typeof i._fromString && Object.defineProperty(i, "_fromString", { enumerable: false, configurable: false, writable: false, value: function(t4) {
              if (this._entries)
                this._entries = {};
              else {
                var e3 = [];
                this.forEach(function(t5, n4) {
                  e3.push(n4);
                });
                for (var n3 = 0; n3 < e3.length; n3++)
                  this.delete(e3[n3]);
              }
              var r2, i2 = (t4 = t4.replace(/^\?/, "")).split("&");
              for (n3 = 0; n3 < i2.length; n3++)
                r2 = i2[n3].split("="), this.append(o(r2[0]), r2.length > 1 ? o(r2[1]) : "");
            } });
          }(void 0 !== t2 ? t2 : "undefined" != typeof window ? window : "undefined" != typeof self ? self : this), function(t3) {
            if (function() {
              try {
                var e3 = new t3.URL("b", "http://a");
                return e3.pathname = "c d", "http://a/c%20d" === e3.href && e3.searchParams;
              } catch (t4) {
                return false;
              }
            }() || function() {
              var e3 = t3.URL, n2 = function(e4, n3) {
                "string" != typeof e4 && (e4 = String(e4));
                var r2, o = document;
                if (n3 && (void 0 === t3.location || n3 !== t3.location.href)) {
                  (r2 = (o = document.implementation.createHTMLDocument("")).createElement("base")).href = n3, o.head.appendChild(r2);
                  try {
                    if (0 !== r2.href.indexOf(n3))
                      throw new Error(r2.href);
                  } catch (t4) {
                    throw new Error("URL unable to set base " + n3 + " due to " + t4);
                  }
                }
                var i = o.createElement("a");
                i.href = e4, r2 && (o.body.appendChild(i), i.href = i.href);
                var a = o.createElement("input");
                if (a.type = "url", a.value = e4, ":" === i.protocol || !/:/.test(i.href) || !a.checkValidity() && !n3)
                  throw new TypeError("Invalid URL");
                Object.defineProperty(this, "_anchorElement", { value: i });
                var s = new t3.URLSearchParams(this.search), c = true, u = true, l = this;
                ["append", "delete", "set"].forEach(function(t4) {
                  var e5 = s[t4];
                  s[t4] = function() {
                    e5.apply(s, arguments), c && (u = false, l.search = s.toString(), u = true);
                  };
                }), Object.defineProperty(this, "searchParams", { value: s, enumerable: true });
                var f = void 0;
                Object.defineProperty(this, "_updateSearchParams", { enumerable: false, configurable: false, writable: false, value: function() {
                  this.search !== f && (f = this.search, u && (c = false, this.searchParams._fromString(this.search), c = true));
                } });
              }, r = n2.prototype;
              ["hash", "host", "hostname", "port", "protocol"].forEach(function(t4) {
                !function(t5) {
                  Object.defineProperty(r, t5, { get: function() {
                    return this._anchorElement[t5];
                  }, set: function(e4) {
                    this._anchorElement[t5] = e4;
                  }, enumerable: true });
                }(t4);
              }), Object.defineProperty(r, "search", { get: function() {
                return this._anchorElement.search;
              }, set: function(t4) {
                this._anchorElement.search = t4, this._updateSearchParams();
              }, enumerable: true }), Object.defineProperties(r, { toString: { get: function() {
                var t4 = this;
                return function() {
                  return t4.href;
                };
              } }, href: { get: function() {
                return this._anchorElement.href.replace(/\?$/, "");
              }, set: function(t4) {
                this._anchorElement.href = t4, this._updateSearchParams();
              }, enumerable: true }, pathname: { get: function() {
                return this._anchorElement.pathname.replace(/(^\/?)/, "/");
              }, set: function(t4) {
                this._anchorElement.pathname = t4;
              }, enumerable: true }, origin: { get: function() {
                var t4 = { "http:": 80, "https:": 443, "ftp:": 21 }[this._anchorElement.protocol], e4 = this._anchorElement.port != t4 && "" !== this._anchorElement.port;
                return this._anchorElement.protocol + "//" + this._anchorElement.hostname + (e4 ? ":" + this._anchorElement.port : "");
              }, enumerable: true }, password: { get: function() {
                return "";
              }, set: function(t4) {
              }, enumerable: true }, username: { get: function() {
                return "";
              }, set: function(t4) {
              }, enumerable: true } }), n2.createObjectURL = function(t4) {
                return e3.createObjectURL.apply(e3, arguments);
              }, n2.revokeObjectURL = function(t4) {
                return e3.revokeObjectURL.apply(e3, arguments);
              }, t3.URL = n2;
            }(), void 0 !== t3.location && !("origin" in t3.location)) {
              var e2 = function() {
                return t3.location.protocol + "//" + t3.location.hostname + (t3.location.port ? ":" + t3.location.port : "");
              };
              try {
                Object.defineProperty(t3.location, "origin", { get: e2, enumerable: true });
              } catch (n2) {
                setInterval(function() {
                  t3.location.origin = e2();
                }, 100);
              }
            }
          }(void 0 !== t2 ? t2 : "undefined" != typeof window ? window : "undefined" != typeof self ? self : this);
        }).call(this, n(17));
      }, function(t, e) {
        var n;
        n = function() {
          return this;
        }();
        try {
          n = n || new Function("return this")();
        } catch (t2) {
          "object" == typeof window && (n = window);
        }
        t.exports = n;
      }, function(t, e, n) {
        "use strict";
        n.r(e), n.d(e, "default", function() {
          return m;
        });
        var r = n(3), o = n.n(r), i = n(0), a = n.n(i), s = n(4), c = n.n(s), u = n(5), l = n.n(u), f = n(1), d = n.n(f), h = (n(12), n(16), n(6)), p = n.n(h);
        var m = function() {
          function t2(e3) {
            var n2 = e3.data, r2 = e3.config, o2 = e3.api, i2 = e3.readOnly;
            l()(this, t2), this.api = o2, this.readOnly = i2, this.config = { endpoint: r2.endpoint || "", headers: r2.headers || {} }, this.nodes = { wrapper: null, container: null, progress: null, input: null, inputHolder: null, linkContent: null, linkImage: null, linkTitle: null, linkDescription: null, linkText: null }, this._data = { link: "", meta: {} }, this.data = n2;
          }
          var e2;
          return d()(t2, null, [{ key: "isReadOnlySupported", get: function() {
            return true;
          } }, { key: "toolbox", get: function() {
            return { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>', title: "Link" };
          } }, { key: "enableLineBreaks", get: function() {
            return true;
          } }]), d()(t2, [{ key: "render", value: function() {
            return this.nodes.wrapper = this.make("div", this.CSS.baseClass), this.nodes.container = this.make("div", this.CSS.container), this.nodes.inputHolder = this.makeInputHolder(), this.nodes.linkContent = this.prepareLinkPreview(), Object.keys(this.data.meta).length ? (this.nodes.container.appendChild(this.nodes.linkContent), this.showLinkPreview(this.data.meta)) : this.nodes.container.appendChild(this.nodes.inputHolder), this.nodes.wrapper.appendChild(this.nodes.container), this.nodes.wrapper;
          } }, { key: "save", value: function() {
            return this.data;
          } }, { key: "validate", value: function() {
            return "" !== this.data.link.trim();
          } }, { key: "makeInputHolder", value: function() {
            var t3 = this, e3 = this.make("div", this.CSS.inputHolder);
            return this.nodes.progress = this.make("label", this.CSS.progress), this.nodes.input = this.make("div", [this.CSS.input, this.CSS.inputEl], { contentEditable: !this.readOnly }), this.nodes.input.dataset.placeholder = this.api.i18n.t("Link"), this.readOnly || (this.nodes.input.addEventListener("paste", function(e4) {
              t3.startFetching(e4);
            }), this.nodes.input.addEventListener("keydown", function(e4) {
              var n2 = e4.ctrlKey || e4.metaKey;
              switch (e4.keyCode) {
                case 13:
                  e4.preventDefault(), e4.stopPropagation(), t3.startFetching(e4);
                  break;
                case 65:
                  n2 && t3.selectLinkUrl(e4);
              }
            })), e3.appendChild(this.nodes.progress), e3.appendChild(this.nodes.input), e3;
          } }, { key: "startFetching", value: function(t3) {
            var e3 = this.nodes.input.textContent;
            "paste" === t3.type && (e3 = (t3.clipboardData || window.clipboardData).getData("text")), this.removeErrorStyle(), this.fetchLinkData(e3);
          } }, { key: "removeErrorStyle", value: function() {
            this.nodes.inputHolder.classList.remove(this.CSS.inputError), this.nodes.inputHolder.insertBefore(this.nodes.progress, this.nodes.input);
          } }, { key: "selectLinkUrl", value: function(t3) {
            t3.preventDefault(), t3.stopPropagation();
            var e3 = window.getSelection(), n2 = new Range(), r2 = e3.anchorNode.parentNode.closest(".".concat(this.CSS.inputHolder)).querySelector(".".concat(this.CSS.inputEl));
            n2.selectNodeContents(r2), e3.removeAllRanges(), e3.addRange(n2);
          } }, { key: "prepareLinkPreview", value: function() {
            var t3 = this.make("a", this.CSS.linkContent, { target: "_blank", rel: "nofollow noindex noreferrer" });
            return this.nodes.linkImage = this.make("div", this.CSS.linkImage), this.nodes.linkTitle = this.make("div", this.CSS.linkTitle), this.nodes.linkDescription = this.make("p", this.CSS.linkDescription), this.nodes.linkText = this.make("span", this.CSS.linkText), t3;
          } }, { key: "showLinkPreview", value: function(t3) {
            var e3 = t3.image, n2 = t3.title, r2 = t3.description;
            this.nodes.container.appendChild(this.nodes.linkContent), e3 && e3.url && (this.nodes.linkImage.style.backgroundImage = "url(" + e3.url + ")", this.nodes.linkContent.appendChild(this.nodes.linkImage)), n2 && (this.nodes.linkTitle.textContent = n2, this.nodes.linkContent.appendChild(this.nodes.linkTitle)), r2 && (this.nodes.linkDescription.textContent = r2, this.nodes.linkContent.appendChild(this.nodes.linkDescription)), this.nodes.linkContent.classList.add(this.CSS.linkContentRendered), this.nodes.linkContent.setAttribute("href", this.data.link), this.nodes.linkContent.appendChild(this.nodes.linkText);
            try {
              this.nodes.linkText.textContent = new URL(this.data.link).hostname;
            } catch (t4) {
              this.nodes.linkText.textContent = this.data.link;
            }
          } }, { key: "showProgress", value: function() {
            this.nodes.progress.classList.add(this.CSS.progressLoading);
          } }, { key: "hideProgress", value: function() {
            var t3 = this;
            return new Promise(function(e3) {
              t3.nodes.progress.classList.remove(t3.CSS.progressLoading), t3.nodes.progress.classList.add(t3.CSS.progressLoaded), setTimeout(e3, 500);
            });
          } }, { key: "applyErrorStyle", value: function() {
            this.nodes.inputHolder.classList.add(this.CSS.inputError), this.nodes.progress.remove();
          } }, { key: "fetchLinkData", value: (e2 = c()(a.a.mark(function t3(e3) {
            var n2, r2;
            return a.a.wrap(function(t4) {
              for (; ; )
                switch (t4.prev = t4.next) {
                  case 0:
                    return this.showProgress(), this.data = { link: e3 }, t4.prev = 2, t4.next = 5, p.a.get({ url: this.config.endpoint, headers: this.config.headers, data: { url: e3 } });
                  case 5:
                    n2 = t4.sent, r2 = n2.body, this.onFetch(r2), t4.next = 13;
                    break;
                  case 10:
                    t4.prev = 10, t4.t0 = t4.catch(2), this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data"));
                  case 13:
                  case "end":
                    return t4.stop();
                }
            }, t3, this, [[2, 10]]);
          })), function(t3) {
            return e2.apply(this, arguments);
          }) }, { key: "onFetch", value: function(t3) {
            var e3 = this;
            if (t3 && t3.success) {
              var n2 = t3.meta, r2 = t3.link || this.data.link;
              this.data = { meta: n2, link: r2 }, n2 ? this.hideProgress().then(function() {
                e3.nodes.inputHolder.remove(), e3.showLinkPreview(n2);
              }) : this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"));
            } else
              this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one"));
          } }, { key: "fetchingFailed", value: function(t3) {
            this.api.notifier.show({ message: t3, style: "error" }), this.applyErrorStyle();
          } }, { key: "make", value: function(t3) {
            var e3, n2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, r2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = document.createElement(t3);
            Array.isArray(n2) ? (e3 = i2.classList).add.apply(e3, o()(n2)) : n2 && i2.classList.add(n2);
            for (var a2 in r2)
              i2[a2] = r2[a2];
            return i2;
          } }, { key: "data", set: function(t3) {
            this._data = Object.assign({}, { link: t3.link || this._data.link, meta: t3.meta || this._data.meta });
          }, get: function() {
            return this._data;
          } }, { key: "CSS", get: function() {
            return { baseClass: this.api.styles.block, input: this.api.styles.input, container: "link-tool", inputEl: "link-tool__input", inputHolder: "link-tool__input-holder", inputError: "link-tool__input-holder--error", linkContent: "link-tool__content", linkContentRendered: "link-tool__content--rendered", linkImage: "link-tool__image", linkTitle: "link-tool__title", linkDescription: "link-tool__description", linkText: "link-tool__anchor", progress: "link-tool__progress", progressLoading: "link-tool__progress--loading", progressLoaded: "link-tool__progress--loaded" };
          } }]), t2;
        }();
      }]).default;
    });
  }
});
export default require_bundle();
//# sourceMappingURL=@editorjs_link.js.map
